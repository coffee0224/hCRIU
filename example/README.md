# Simple loop
Run the test.sh in background.
```shell
$ cd example
$ chmod +x test.sh
$ nohup ./test.sh &
```

Get the pid and status of test.sh
```shell
$  ps -C test.sh
 PID TTY          TIME CMD
156411 ?        00:00:00 test.sh
```

Dump the test.sh
```shell
$ sudo hcriu dump  156411
```

List the checkpoints
```shell 
$ hcriu list
+---------------+------------+--------+-------------------+-----------------------------------+
| Checkpoint ID | Tag        | PID    | Command           | Dump Time                         |
+=============================================================================================+
| 9a299e6       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 12:58:47.262077735 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
```

Restore the test.sh
```shell
$ hcriu restore 9a299e6
Restore Success
```

Dump period
```shell
$ sudo hcriu dump -i 10s 156411
+---------------+------------+--------+-------------------+-----------------------------------+
| Checkpoint ID | Tag        | PID    | Command           | Dump Time                         |
+=============================================================================================+
| 9a299e6       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 12:58:47.262077735 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
| 30ba5c4       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:01:34.716813549 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
| e67a75c       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:03:37.840408546 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
| a3a8507       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:03:47.849640822 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
| 0bf13e7       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:03:57.861752462 UTC |
+---------------+------------+--------+-------------------+-----------------------------------+
```

Merge, keep latest
```shell
$ hcriu merge -d tmp-156411 // only print result
+---------------+------------+--------+-------------------+-----------------------------------+
| Checkpoint ID | Tag        | PID    | Command           | Dump Time                         |
+=============================================================================================+
| 9a299e6       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 12:58:47.262077735 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
| e67a75c       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:03:37.840408546 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
| a3a8507       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:03:47.849640822 UTC |
|---------------+------------+--------+-------------------+-----------------------------------|
| 30ba5c4       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:01:34.716813549 UTC |
+---------------+------------+--------+-------------------+-----------------------------------+
The following checkpoints will be kept:
+---------------+------------+--------+-------------------+-----------------------------------+
| Checkpoint ID | Tag        | PID    | Command           | Dump Time                         |
+=============================================================================================+
| 0bf13e7       | tmp-156411 | 156411 | /bin/sh ./test.sh | 2025-05-25 13:03:57.861752462 UTC |
+---------------+------------+--------+-------------------+-----------------------------------+
```

```shell
$ hcriu merge tmp-156411 // merged
Deleted checkpoint 9a299e628a43c8511b80aa8876d8726b8664dff94283fc61e93d0556b4c3b016
Deleted checkpoint e67a75cbcd02673ab6c61f73eb52d6dcaa21664f377a9fba16527095436ce32b
Deleted checkpoint a3a85073ecd2aee0ff0d5c849916025435d4a27b134dd8a44f13662ec3fdbfb2
Deleted checkpoint 30ba5c4e054118eeea12e64547aa4d401000e77f17e275e2181610cd25f57d4d
Merged 4 checkpoints
```
